# Tutorial: TODOリスト

# 概要

これまでのチュートリアルの内容を元にアプリを作ってみましょう！

用意した仕様を元にTODOリストアプリを完成させてください。
ボリューム感は、チュートリアルの対象エンジニアが二日程度で実装できる規模を想定しています。

また、あくまで後述の納品基準(完成目標)を達成するのが目的なので、クラス名やメソッド名はもちろん、  
機能の実装方法や画面のデザインに関しては自由です。もちろんエディタも自由です。

それでは、検討を祈ります！

# 仕様

まずはこの項目を熟読して、これから開発するアプリの仕様を把握しましょう。


## 要件定義

ある日、友人のタカシ君はあなたに以下のようなアプリの開発を依頼してきました。
紆余曲折ありましたが、あなたはこの依頼を引き受けることにしました。

数回のミーティングののち、タカシ君の要望/要求を(たぶん)全て洗い出し、まとめました。
まとめた要件は以下のとおりです。

- 今の自分がどんなタスクを持ってるのか管理したい！！
- とりあえず新規作成と削除ができればいいや。
- タスクの作成時間が見えるといいよね！
- 削除は一覧画面からできた方がいいなー
- 一覧画面がごちゃごちゃするのは嫌だから、詳細は別画面で見たい！


## 基本設計

### 画面

今回開発するアプリは以下の三画面から構成されています。

- タスク一覧を表示する画面(タスク一覧画面)
- タスクを新規作成する為の画面(タスク新規作成画面)
- 指定したタスクの詳細情報を表示する為の画面(タスク詳細画面)

また、画面遷移は以下の通りです。

```
                 タスク削除ボタン
                   +---------+
                   |         |
  +----------------+---+     |
  |                    | <---+      戻るボタン
  |   タスク一覧画面   | <-------------------+
  |                    |                     |
  +--------+--------+--+                     |
           |  ^     |    タスク名クリック    |
           |  |     +---------------------+  |
  新規作成 |  |                           |  |
   ボタン  |  | 作成成功                  |  |
           V  |                           V  |
  +-----------+--------+          +----------+--------+
  |                    |          |                   |
  | タスク新規作成画面 |          |  タスク詳細画面   |
  |                    |          |                   |
  +--------------------+          +-------------------+
```

## URL
上記の画面を実現するために、以下のURLが必要となります。

- タスク一覧画面を表示させるURL
- タスク一覧画面から、あるタスクの詳細を表示させるURL
- タスク新規作成画面を表示するURL
- タスク新規作成画面からデータを受け取って、実際にタスクを作成するURL
- 指定のタスクを削除するURL

routeファイルの例を以下に示します。

```
# Taskの一覧
GET     /tasks                      controllers.Application.tasks

# Taskの詳細
GET     /tasks/:id                  controllers.Application.show(id: Int)

# Taskの新規作成
GET     /create                     controllers.Application.createFormView
POST    /create                     controllers.Application.create

# Taskの削除
DELETE  /delete/:id                 controllers.Application.delete(id: Int)
```

## 永続化

データベース名は任意です。(例では*play2*というdatabase名で作成しています。)  
テーブルは以下の定義を元に作成してください。

```
mysql> show tables;
+-----------------+
| Tables_in_play2 |
+-----------------+
| tasks           |
+-----------------+
1 row in set (0.00 sec)
```
　  
```
mysql> show columns from tasks;
+-----------+--------------+------+-----+-------------------+----------------+
| Field     | Type         | Null | Key | Default           | Extra          |
+-----------+--------------+------+-----+-------------------+----------------+
| id        | int(11)      | NO   | PRI | NULL              | auto_increment |
| title     | varchar(50)  | NO   |     | NULL              |                |
| content   | varchar(500) | YES  |     |                   |                |
| createdAt | datetime     | NO   |     | CURRENT_TIMESTAMP |                |
+-----------+--------------+------+-----+-------------------+----------------+
4 rows in set (0.01 sec)
```


# 納品基準(完成目標)

開発したアプリをタカシ君に納品する為の判断基準です。
これを満たした段階で、晴れて自由の身になれます。

- 要件定義の項目でまとめた要求を満たしているか


# その他

## 完成目標と完成度判断基準

アプリを完成させるために必要な小項目を洗い出しました。
これが全てではないですが進捗の目安としてください。

## サンプルに関して

todolistディレクトリ自体がこの課題の実装例になっています。
動作確認方法は以下の通りです。

```sh
# 接続先DBの指定
export PLAY_DB_USER="user"
export PLAY_DB_PASS="password"

# todolistディレクトリへ移動
cd tutorial-scala-play/sample/todolist

# アプリの起動方法1
./activator run

# アプリの起動方法2
sbt run
```

正常に起動したら、ブラウザでアクセスします。

http://localhost:9000/tasks

